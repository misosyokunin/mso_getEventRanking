javascript:(async () => {"use strict";/*â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“â”ƒï¼­ï¼³ï¼¯ï¼¿ã‚¤ãƒ™ãƒ³ãƒˆãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‹ã‚‰ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒˆå–å¾—å†…è¨³ã‚’å–å¾—â”ƒâ”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›Developer:é­šé ­ç”·ï¼ˆhttps://minesweeper.online/ja/player/16842796 ï¼‰Writing:é­šé ­ç”·ï¼ˆhttps://minesweeper.online/ja/player/16842796 ï¼‰Thanksï¼ˆæ•¬ç§°ç•¥ï¼‰:nagaoï¼ˆhttps://minesweeper.online/ja/player/2554698 ï¼‰ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒˆä¸€è¦§ - ãƒã‚¤ãƒ³ã‚¹ã‚¤ãƒ¼ãƒ‘ãƒ¼ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã€€ã‚¢ãƒƒãƒˆã‚¦ã‚£ã‚­ - atwikiï¼ˆã‚¢ãƒƒãƒˆã‚¦ã‚£ã‚­ï¼‰ï¼ˆhttps://w.atwiki.jp/minesweeper-online/pages/101.html ï¼‰ã‚¤ãƒ™ãƒ³ãƒˆãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’å–å¾—ã™ã‚‹ã®ã¯é¢å€’ã€‚ã¨ã„ã†ã‚ã‘ã§ã€ã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’ä½œã‚Šã¾ã—ãŸã€‚=======================================================ã“ã®ãƒ„ãƒ¼ãƒ«ã¯Minesweeper.Onlineæ§˜ï¼ˆhttps://minesweeper.online/ ã€ä»¥ä¸‹ã€Œï¼­ï¼³ï¼¯ã€ï¼‰ã‚ˆã‚Šå…¬èªã‚’å—ã‘ã¦ã„ãªã„ã€éå…¬èªã®ã‚‚ã®ã§ã™ã€‚å½“ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ã€ï¼­ï¼³ï¼¯æ§˜ã¨ã¯ä¸€åˆ‡é–¢ä¿‚ã”ã–ã„ã¾ã›ã‚“ã®ã§ã€ã“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«é–¢ã™ã‚‹è³ªå•ãƒ»æè¨€ç­‰ã®é€£çµ¡ã¯é­šé ­ç”·ï¼ˆhttps://minesweeper.online/ja/player/16842796 ã€ä»¥ä¸‹ã€Œé­šã€ï¼‰ã¾ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚å½“ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ã¤ã„ã¦ã€ï¼­ï¼³ï¼¯æ§˜ã«é€£çµ¡ã™ã‚‹ã“ã¨ã¯çµ¶å¯¾ã«ã—ãªã„ã§ãã ã•ã„ã€‚é‹å–¶è€…æ§˜ä¸¦ã³ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼æ§˜ã«ã”è¿·æƒ‘ã«ãªã‚‰ãªã„ã‚ˆã†ã«åŠªã‚ã¦ãŠã‚Šã¾ã™ãŒã€ä¸‡ãŒä¸€ã®ã“ã¨ãŒã‚ã‚Šã¾ã—ãŸã‚‰å³å‰Šé™¤ã„ãŸã—ã¾ã™ã€‚=======================================================*//*ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ã€ä½¿ã„æ–¹ã€‘ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¦èº«ã‚’ä»»ã›ã‚‹ã ã‘ã§ã™ã€‚1ãƒšãƒ¼ã‚¸è¾ºã‚Šæœ€çŸ­2ç§’ã§å–å¾—ã—ã¾ã™ï¼ˆç’°å¢ƒã«ã‚ˆã£ã¦ã¯2ç§’ä»¥ä¸Šæ›ã‹ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼‰ã€‚ï¼ˆã¾ãŸã€ä¸­æ–­æ©Ÿèƒ½ã‚’è¨­ã‘ã¦ãŠã‚Šã¾ã™ã®ã§ã€ç„¡è¬€ãªå®Ÿè¡Œã§ã‚‚å¤§ä¸ˆå¤«ã§ã™ï¼‰ã€‚ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œä¸­ã¯ã€ã§ãã‚‹ã ã‘ã‚¿ãƒ–ã®é·ç§»ã‚„ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã«ã—ãªã„ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚ãªãŠã€ä»–è¨€èªã§ã‚‚åŒã˜ã‚ˆã†ãªã“ã¨ãŒã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚ãŸã ã€ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ã¾ã¾ã§ã¯å‹•ãã¾ã›ã‚“ã®ã§ã€é©å®œå¤‰ãˆã¦ãã ã•ã„ï¼ˆã€Œjaã€ã‚„æŠ½å‡ºæ–‡è¨€ï¼‰ã€‚*//*ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆé–‹å§‹ãƒã‚§ãƒƒã‚¯ã€‘*/if(location.href.includes("https://minesweeper.online/ja/event")){}else{const result = window.confirm("ã‚¤ãƒ™ãƒ³ãƒˆãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒšãƒ¼ã‚¸ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\néå»ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã¸é£›ã³ã¾ã™ã‹ï¼Ÿ\nï¼ˆå„ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸é·ç§»å¾Œã«å†åº¦ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚ï¼‰");if(result){location.href = "https://minesweeper.online/ja/previous-events";}else{alert("ã‚¤ãƒ™ãƒ³ãƒˆãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã•ã›ã¦ãã ã•ã„ã€‚");}return;}/*ã€å®šæ•°ã€‘*/const EVENTPOINT_KIND_NAMES = {"A0": "åŠ¹ç‡","A1": "é€Ÿåº¦","A2": "ãƒ•ãƒ©ã‚°ãªã—","A3": "é€£å‹","A4": "é«˜é›£æ˜“åº¦","A5": "ï¼®ï¼§","A6": "å‹åˆ©","A7": "è³‡æº","A8": "ã‚¢ãƒªãƒ¼ãƒŠ","B0": "çµŒé¨“","B1": "ã‚³ã‚¤ãƒ³","B3": "ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰æ ","Z0": "ãƒˆãƒƒãƒ—ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ","ZZ": "ä¸æ˜",};const EVENTPOINT_KIND_IMAGE_HASHS = {"https://minesweeper.online/img/candies/cake/507.svg?v4": "A0","https://minesweeper.online/img/candies/cake/508.svg?v4": "A1","https://minesweeper.online/img/candies/cake/509.svg?v4": "A2","https://minesweeper.online/img/candies/cake/510.svg?v4": "A3","https://minesweeper.online/img/candies/cake/511.svg?v4": "A4","https://minesweeper.online/img/candies/cake/512.svg?v4": "A5","https://minesweeper.online/img/candies/cake/513.svg?v4": "A6","https://minesweeper.online/img/candies/cake/514.svg?v4": "A7","https://minesweeper.online/img/candies/cake/515.svg?v4": "A8","https://minesweeper.online/img/candies/cake/516.svg?v4": "B3","https://minesweeper.online/img/candies/pumpkin/490.svg?v4": "B0","https://minesweeper.online/img/candies/pumpkin/491.svg?v4": "B1","https://minesweeper.online/img/candies/pumpkin/492.svg?v4": "A0","https://minesweeper.online/img/candies/pumpkin/493.svg?v4": "A1","https://minesweeper.online/img/candies/pumpkin/494.svg?v4": "A2","https://minesweeper.online/img/candies/pumpkin/495.svg?v4": "A3","https://minesweeper.online/img/candies/pumpkin/496.svg?v4": "A4","https://minesweeper.online/img/candies/pumpkin/497.svg?v4": "A5","https://minesweeper.online/img/candies/pumpkin/498.svg?v4": "A6","https://minesweeper.online/img/candies/pumpkin/499.svg?v4": "A7","https://minesweeper.online/img/candies/pumpkin/500.svg?v4": "A8","https://minesweeper.online/img/candies/pumpkin/501.svg?v4": "B3","https://minesweeper.online/img/candies/fruit/475.svg?v4": "B0","https://minesweeper.online/img/candies/fruit/476.svg?v4": "B1","https://minesweeper.online/img/candies/fruit/477.svg?v4": "A0","https://minesweeper.online/img/candies/fruit/478.svg?v4": "A1","https://minesweeper.online/img/candies/fruit/479.svg?v4": "A2","https://minesweeper.online/img/candies/fruit/480.svg?v4": "A3","https://minesweeper.online/img/candies/fruit/481.svg?v4": "A4","https://minesweeper.online/img/candies/fruit/482.svg?v4": "A5","https://minesweeper.online/img/candies/fruit/483.svg?v4": "A6","https://minesweeper.online/img/candies/fruit/484.svg?v4": "A7","https://minesweeper.online/img/candies/fruit/485.svg?v4": "A8","https://minesweeper.online/img/candies/fruit/486.svg?v4": "B3","https://minesweeper.online/img/candies/drink/460.svg?v4": "B0","https://minesweeper.online/img/candies/drink/461.svg?v4": "B1","https://minesweeper.online/img/candies/drink/462.svg?v4": "A0","https://minesweeper.online/img/candies/drink/463.svg?v4": "A1","https://minesweeper.online/img/candies/drink/464.svg?v4": "A2","https://minesweeper.online/img/candies/drink/465.svg?v4": "A3","https://minesweeper.online/img/candies/drink/466.svg?v4": "A4","https://minesweeper.online/img/candies/drink/467.svg?v4": "A5","https://minesweeper.online/img/candies/drink/468.svg?v4": "A6","https://minesweeper.online/img/candies/drink/469.svg?v4": "A7","https://minesweeper.online/img/candies/drink/470.svg?v4": "A8","https://minesweeper.online/img/candies/drink/471.svg?v4": "B3","https://minesweeper.online/img/candies/drink/472.svg?v4": "Z0","https://minesweeper.online/img/candies/icecream/445.svg?v4": "B0","https://minesweeper.online/img/candies/icecream/446.svg?v4": "B1","https://minesweeper.online/img/candies/icecream/447.svg?v4": "A0","https://minesweeper.online/img/candies/icecream/448.svg?v4": "A1","https://minesweeper.online/img/candies/icecream/449.svg?v4": "A2","https://minesweeper.online/img/candies/icecream/450.svg?v4": "A3","https://minesweeper.online/img/candies/icecream/451.svg?v4": "A4","https://minesweeper.online/img/candies/icecream/452.svg?v4": "A5","https://minesweeper.online/img/candies/icecream/453.svg?v4": "A6","https://minesweeper.online/img/candies/icecream/454.svg?v4": "A7","https://minesweeper.online/img/candies/icecream/455.svg?v4": "A8","https://minesweeper.online/img/candies/icecream/456.svg?v4": "B3","https://minesweeper.online/img/candies/like/430.svg?v4": "B0","https://minesweeper.online/img/candies/like/431.svg?v4": "B1","https://minesweeper.online/img/candies/like/432.svg?v4": "A0","https://minesweeper.online/img/candies/like/433.svg?v4": "A1","https://minesweeper.online/img/candies/like/434.svg?v4": "A2","https://minesweeper.online/img/candies/like/435.svg?v4": "A3","https://minesweeper.online/img/candies/like/436.svg?v4": "A4","https://minesweeper.online/img/candies/like/437.svg?v4": "A5","https://minesweeper.online/img/candies/like/438.svg?v4": "A6","https://minesweeper.online/img/candies/like/439.svg?v4": "A7","https://minesweeper.online/img/candies/like/440.svg?v4": "A8","https://minesweeper.online/img/candies/like/441.svg?v4": "B3","https://minesweeper.online/img/candies/flower/415.svg?v4": "B0","https://minesweeper.online/img/candies/flower/416.svg?v4": "B1","https://minesweeper.online/img/candies/flower/417.svg?v4": "A0","https://minesweeper.online/img/candies/flower/418.svg?v4": "A1","https://minesweeper.online/img/candies/flower/419.svg?v4": "A2","https://minesweeper.online/img/candies/flower/420.svg?v4": "A3","https://minesweeper.online/img/candies/flower/421.svg?v4": "A4","https://minesweeper.online/img/candies/flower/422.svg?v4": "A5","https://minesweeper.online/img/candies/flower/423.svg?v4": "A6","https://minesweeper.online/img/candies/flower/424.svg?v4": "A7","https://minesweeper.online/img/candies/flower/425.svg?v4": "A8","https://minesweeper.online/img/candies/flower/426.svg?v4": "B3","https://minesweeper.online/img/candies/egg/400.svg?v4": "B0","https://minesweeper.online/img/candies/egg/401.svg?v4": "B1","https://minesweeper.online/img/candies/egg/402.svg?v4": "A0","https://minesweeper.online/img/candies/egg/403.svg?v4": "A1","https://minesweeper.online/img/candies/egg/404.svg?v4": "A2","https://minesweeper.online/img/candies/egg/405.svg?v4": "A3","https://minesweeper.online/img/candies/egg/406.svg?v4": "A4","https://minesweeper.online/img/candies/egg/407.svg?v4": "A5","https://minesweeper.online/img/candies/egg/408.svg?v4": "A6","https://minesweeper.online/img/candies/egg/409.svg?v4": "A7","https://minesweeper.online/img/candies/egg/410.svg?v4": "A8","https://minesweeper.online/img/candies/egg/411.svg?v4": "B3","https://minesweeper.online/img/candies/egg/412.svg?v4": "Z0","https://minesweeper.online/img/candies/shard/385.svg?v4": "B0","https://minesweeper.online/img/candies/shard/386.svg?v4": "B1","https://minesweeper.online/img/candies/shard/387.svg?v4": "A0","https://minesweeper.online/img/candies/shard/388.svg?v4": "A1","https://minesweeper.online/img/candies/shard/389.svg?v4": "A2","https://minesweeper.online/img/candies/shard/390.svg?v4": "A3","https://minesweeper.online/img/candies/shard/391.svg?v4": "A4","https://minesweeper.online/img/candies/shard/392.svg?v4": "A5","https://minesweeper.online/img/candies/shard/393.svg?v4": "A6","https://minesweeper.online/img/candies/shard/394.svg?v4": "A7","https://minesweeper.online/img/candies/shard/395.svg?v4": "A8","https://minesweeper.online/img/candies/shard/396.svg?v4": "B3","https://minesweeper.online/img/candies/heart/370.svg?v4": "B0","https://minesweeper.online/img/candies/heart/371.svg?v4": "B1","https://minesweeper.online/img/candies/heart/372.svg?v4": "A0","https://minesweeper.online/img/candies/heart/373.svg?v4": "A1","https://minesweeper.online/img/candies/heart/374.svg?v4": "A2","https://minesweeper.online/img/candies/heart/375.svg?v4": "A3","https://minesweeper.online/img/candies/heart/376.svg?v4": "A4","https://minesweeper.online/img/candies/heart/377.svg?v4": "A5","https://minesweeper.online/img/candies/heart/378.svg?v4": "A6","https://minesweeper.online/img/candies/heart/379.svg?v4": "A7","https://minesweeper.online/img/candies/heart/380.svg?v4": "A8","https://minesweeper.online/img/candies/heart/381.svg?v4": "B3","https://minesweeper.online/img/candies/snowflake/355.svg?v4": "B0","https://minesweeper.online/img/candies/snowflake/356.svg?v4": "B1","https://minesweeper.online/img/candies/snowflake/357.svg?v4": "A0","https://minesweeper.online/img/candies/snowflake/358.svg?v4": "A1","https://minesweeper.online/img/candies/snowflake/359.svg?v4": "A2","https://minesweeper.online/img/candies/snowflake/360.svg?v4": "A3","https://minesweeper.online/img/candies/snowflake/361.svg?v4": "A4","https://minesweeper.online/img/candies/snowflake/362.svg?v4": "A5","https://minesweeper.online/img/candies/snowflake/363.svg?v4": "A6","https://minesweeper.online/img/candies/snowflake/364.svg?v4": "A7","https://minesweeper.online/img/candies/snowflake/365.svg?v4": "A8","https://minesweeper.online/img/candies/snowflake/366.svg?v4": "B3","https://minesweeper.online/img/candies/candy/520.svg?v4": "B0","https://minesweeper.online/img/candies/candy/521.svg?v4": "B1","https://minesweeper.online/img/candies/candy/522.svg?v4": "A0","https://minesweeper.online/img/candies/candy/523.svg?v4": "A1","https://minesweeper.online/img/candies/candy/524.svg?v4": "A2","https://minesweeper.online/img/candies/candy/525.svg?v4": "A3","https://minesweeper.online/img/candies/candy/526.svg?v4": "A4","https://minesweeper.online/img/candies/candy/527.svg?v4": "A5","https://minesweeper.online/img/candies/candy/528.svg?v4": "A6","https://minesweeper.online/img/candies/candy/529.svg?v4": "A7","https://minesweeper.online/img/candies/candy/530.svg?v4": "A8","https://minesweeper.online/img/candies/candy/531.svg?v4": "B3","https://minesweeper.online/img/candies/candy/532.svg?v4": "Z0",};const Wait = {waits : [],num : -1,add(){return new Promise((resolve) =>{this.num++;this.waits[this.num] = resolve;});},release(){this.waits[this.num]();this.waits[this.num] = "";this.num--;},time(sec){return new Promise((resolve) =>{setTimeout(function(){resolve();}, sec * 1000);});},};const mouseOverEvent = new MouseEvent("mouseover", {view: window,bubbles: true,cancelable: true});const mouseOutEvent = new MouseEvent("mouseout", {view: window,bubbles: true,cancelable: true});const TEMPLATE_DATA = {"é †ä½": "ï¼®","ãƒ¦ãƒ¼ã‚¶ãƒ¼å": "ï¼¸ï¼¸ï¼¸","ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªãƒ³ã‚¯": "https://minesweeper.online/ja/player/16842796","ç·å–å¾—ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒˆ": 0,};Object.values(EVENTPOINT_KIND_NAMES).forEach((value) => {TEMPLATE_DATA[value] = 0;});/*ã€ãƒ‡ãƒ¼ã‚¿å–å¾—æ–¹æ³•ãªã©ã®é¸æŠã€‘*/const bk = document.createElement("div");bk.style = "position:fixed; top: 0px; left: 0px; background-color: rgba(0, 0, 0, 0.5); width: 100vw; height: 100vh; font-size: 2em; z-index: 100; display: flex; justify-content: center; align-items: center; flex-direction: column;";const header = document.createElement("header");bk.append(header);const h1 = document.createElement("h1");h1.textContent = "ã‚·ãƒ¼ã‚ºãƒ³é›†è¨ˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ";header.append(h1);const section = document.createElement("section");bk.append(section);const form = document.createElement("form");form.setAttribute("onsubmit", "return false;");section.append(form);{const fieldset = document.createElement("fieldset");fieldset.style = "font-size: 1.5ch;";form.append(fieldset);const input1 = document.createElement("input");input1.id = "_limitUserRank1";input1.type = "number";input1.min = 1;input1.max = document.getElementById("stat_my_rank")?.textContent?.replace(/.*?\/\s/, "") ?? "100";input1.value = 1;input1.step = 1;input1.style = "width: 8ch;";fieldset.append(input1);const span1 = document.createElement("span");span1.textContent = "ï½";fieldset.append(span1);const input2 = document.createElement("input");input2.id = "_limitUserRank2";input2.type = "number";input2.min = 1;input2.max = document.getElementById("stat_my_rank")?.textContent?.replace(/.*?\/\s/, "") ?? "100";input2.value = input2.max;input2.step = 1;input2.style = "width: 8ch;";fieldset.append(input2);const span2 = document.createElement("span");span2.textContent = "ä½ã‚’å–å¾—ã™ã‚‹";fieldset.append(span2);}{const fieldset = document.createElement("fieldset");fieldset.style = "font-size: 1.5ch;";form.append(fieldset);const input = document.createElement("input");input.id = "_limitUserPoint";input.type = "number";input.min = 0;input.max = Infinity;input.value = 0;input.step = 1;input.style = "width: 8ch;";fieldset.append(input);const span1 = document.createElement("span");span1.textContent = "ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒˆä»¥ä¸Šã ã‘ã‚’é›†è¨ˆã™ã‚‹";fieldset.append(span1);}{const fieldset = document.createElement("fieldset");fieldset.style = "font-size: 1.5ch;";form.append(fieldset);const label = document.createElement("label");fieldset.append(label);const input = document.createElement("input");input.id = "_isPerformanceMode";input.type = "checkbox";input.checked = true;input.style = "transform: scale(1.5); margin-right: 5px;";label.append(input);const span = document.createElement("span");span.textContent = "ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹ï¼ˆè¡¨ç¤ºãŒé›‘ã«ãªã‚‹ä»£ã‚ã‚Šã«CPUã¸ã®è² æ‹…ã‚’æ¸›ã‚‰ã—ã¾ã™ï¼‰";label.append(span);}{const footer = document.createElement("footer");footer.style = "display: flex; width: 100%; justify-content: center;";bk.append(footer);const cancelButton = document.createElement("button");cancelButton.type = "button";cancelButton.textContent = "ã‚­ãƒ£ãƒ³ã‚»ãƒ«";cancelButton.addEventListener("click", () => {bk.remove();});cancelButton.style = "width: 100%;";footer.append(cancelButton);const searchButton = document.createElement("button");searchButton.type = "button";searchButton.textContent = "æ¤œç´¢";searchButton.addEventListener("click", () => {event.preventDefault();const ra = checkInputs();if(ra.length){alert(ra.join("\n"));return;}setInit();changeShowStrings();main();});searchButton.style = "width: 100%;";footer.append(searchButton);}document.body.append(bk);document.getElementById("_limitUserRank1").focus();/*ã€ãƒ‡ãƒ¼ã‚¿å–å¾—ã€‘*/let limitUserRank1 = 0;let limitUserRank2 = 0;let limitUserPoint = 0;let isPerformanceMode = false;let isLooping = true;const putDatas = [];function checkInputs(){let ra = [];const lur1 = Number(document.getElementById("_limitUserRank1").value);if(!Number.isInteger(lur1) || lur1 < 1){ra.push(`é †ä½ã«å¤‰ãªå€¤ãŒå…¥ã£ã¦ã„ã¾ã™ï¼ï¼ˆ${document.getElementById("_limitUserRank1").value}ï¼‰`);}const lur2 = Number(document.getElementById("_limitUserRank2").value);if(!Number.isInteger(lur2) || lur2 < 1){ra.push(`é †ä½ã«å¤‰ãªå€¤ãŒå…¥ã£ã¦ã„ã¾ã™ï¼ï¼ˆ${document.getElementById("_limitUserRank2").value}ï¼‰`);}if(lur1 > lur2){ra.push(`å°ã•ã„å€¤ï½å¤§ãã„å€¤ã«ã—ã¦ãã ã•ã„ï¼ï¼ˆ${document.getElementById("_limitUserRank1").value}ï½${document.getElementById("_limitUserRank2").value}ï¼‰`);}const lup = Number(document.getElementById("_limitUserPoint").value);if(!Number.isInteger(lup) || lup < 0){ra.push(`æŠ½å‡ºãƒã‚¤ãƒ³ãƒˆã«å¤‰ãªå€¤ãŒå…¥ã£ã¦ã„ã¾ã™ï¼ï¼ˆ${document.getElementById("_limitUserPoint").value}ï¼‰`);}return ra;}function setInit(){limitUserRank1 = document.getElementById("_limitUserRank1").value;limitUserRank2 = document.getElementById("_limitUserRank2").value;limitUserPoint = document.getElementById("_limitUserPoint").value;isPerformanceMode = document.getElementById("_isPerformanceMode").checked;}function changeShowStrings(){bk.innerHTML = "";bk.innerText = "ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿å–å¾—ä¸­â€¦\nã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„â€¦";const breakButton = document.createElement("button");breakButton.type = "button";breakButton.textContent = "çµ‚äº†ã™ã‚‹";breakButton.addEventListener("click", () => {isLooping = false;/*bk.remove();*/});bk.append(breakButton);const progress = document.createElement("progress");progress.id = "_progress";progress.max = limitUserRank2 - limitUserRank1;progress.value = 0;bk.append(progress);{const label = document.createElement("label");label.style = "cursor: pointer;";bk.append(label);const chkShowHeader = document.createElement("input");chkShowHeader.type = "checkbox";chkShowHeader.checked = false;chkShowHeader.id = "_chkShowHeader";chkShowHeader.style = "transform: scale(1.5); margin: 5px;";label.append(chkShowHeader);const span = document.createElement("span");span.textContent = "è¦‹å‡ºã—ã‚‚å–å¾—ã™ã‚‹";span.style = "font-size: 16px";label.append(span);}{const label = document.createElement("label");label.style = "cursor: pointer;";bk.append(label);const chkShowHeader = document.createElement("input");chkShowHeader.type = "checkbox";chkShowHeader.checked = true;chkShowHeader.id = "_chkCopyDataWhenJumpToSheet";chkShowHeader.style = "transform: scale(1.5); margin: 5px;";label.append(chkShowHeader);const span = document.createElement("span");span.textContent = "ã‚·ãƒ¼ãƒˆé·ç§»æ™‚ã«ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹";span.style = "font-size: 16px";label.append(span);}}let observer = null;function main(){const target = document.body;observer = new MutationObserver(async function (mutations) {const tar = mutations[0].target;if(tar.id === "stat_my_rank"){/*"stat_pagination"ã‚ˆã‚Šã‚‚ç¢ºå®Ÿ*/loop1();}if(tar.classList.contains("help")){Wait.release();if(isPerformanceMode){}else{tar.dispatchEvent(mouseOutEvent);}}});observer.observe(target, {attributes: true,/*å±æ€§å¤‰åŒ–ã®ç›£è¦–*/characterData: true,/*ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ¼ãƒ‰ã®å¤‰åŒ–ã‚’ç›£è¦–*/childList: true,/*å­ãƒãƒ¼ãƒ‰ã®å¤‰åŒ–ã‚’ç›£è¦–*/subtree: true,/*å­å­«ãƒãƒ¼ãƒ‰ã‚‚ç›£è¦–å¯¾è±¡ã«å«ã‚ã‚‹*/});const firstPageNumber = limitUserRank1 <= 10 ? 1 : Math.floor(limitUserRank1 / 10) + 1;if(document.querySelector("#stat_pagination .active").textContent === `${firstPageNumber}`){loop1();}else{_p(firstPageNumber);}async function loop1(){await Wait.time(1);/*1ä»¥ä¸‹ã«ã—ã¡ã‚ƒãƒ€ãƒ¡ï¼*/const rb = await loop2();if(rb){endScript();}}async function loop2(){if(!isLooping){return true;}const rf = await getData();if(!rf){return true;}const nextButton = document.querySelector("#stat_pagination .next");if(nextButton.classList.contains("disabled")){return true;}else{nextButton.click();}}async function getData(){const trs = document.querySelectorAll("#stat_table > tbody > tr");for(let i = 0; i < trs.length; i++){const tr = trs[i];if(!tr.querySelector(":scope > td:nth-child(1)").textContent){return false;}const user_lank = Number(tr.querySelector(":scope > td:nth-child(1)").textContent);if(user_lank < limitUserRank1){continue;}const tempData = JSON.parse(JSON.stringify(TEMPLATE_DATA));const user_name = tr.querySelector(":scope > td:nth-child(2)").textContent;const user_link = tr.querySelector(":scope > td:nth-child(2) a").href;const user_sum_eventpoints = tr.querySelector(":scope > td:nth-child(3) strong").textContent;if(Number(user_sum_eventpoints) < limitUserPoint){return false;}tempData["é †ä½"] = user_lank;tempData["ãƒ¦ãƒ¼ã‚¶ãƒ¼å"] = user_name;tempData["ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªãƒ³ã‚¯"] = user_link;tempData["ç·å–å¾—ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒˆ"] = user_sum_eventpoints;setTimeout(() => {tr.querySelector(":scope > td:nth-child(3) span.help").dispatchEvent(mouseOverEvent);}, 100);/*100ä»¥ä¸‹ã«ã—ã¡ã‚ƒãƒ€ãƒ¡ï¼*/await Wait.add();/*popoverã®å‡ºç¾å¾…ã¡*/const popover = Array.from(document.querySelectorAll(".popover")).at(-1);const spans = popover.querySelectorAll(".popover-content > span > span");spans.forEach((span) => {const eventpoints = span.textContent;const kind_key = EVENTPOINT_KIND_IMAGE_HASHS[span.querySelector("img").src] ?? "ZZ";const kind_name = EVENTPOINT_KIND_NAMES[kind_key];tempData[kind_name] = eventpoints;});document.getElementById("_progress").value++;putDatas.push(tempData);if(tr.querySelector(":scope > td:nth-child(1)").textContent === `${limitUserRank2}`){return false;}}return true;}}/*ã€ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºã€‘*/function endScript(){observer.disconnect();const isShowHeader = document.getElementById("_chkShowHeader").checked;const isCopyDataWhenJumpToSheet = document.getElementById("_chkCopyDataWhenJumpToSheet").checked;bk.innerHTML = "";const textarea = document.createElement("textarea");if(isShowHeader){for(const key of Object.keys(TEMPLATE_DATA)){textarea.value += `${key}\t`;}textarea.value += "\n";}putDatas.forEach((data) => {for(const value of Object.values(data)){textarea.value += `${value}\t`;}textarea.value += "\n";});textarea.style = "font-size: 16px; width: 90%; height: 50%;";bk.append(textarea);const wrapper = document.createElement("div");wrapper.style = "height: 20%; width: 90%; font-size: 16px; display: grid; grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(2, 1fr); gap: 0px;";bk.append(wrapper);const copyButton = document.createElement("button");copyButton.type = "button";copyButton.textContent = "ğŸ“ƒã‚³ãƒ”ãƒ¼ã™ã‚‹";copyButton.addEventListener("click", () => {textarea.select();document.execCommand("copy");window.getSelection?.().removeAllRanges();textarea.blur();copyButton.textContent = "ğŸ“ƒã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼";setTimeout(() => {copyButton.textContent = "ğŸ“ƒã‚³ãƒ”ãƒ¼ã™ã‚‹";}, 3000);});copyButton.style = "grid-column: span 2 / span 2;";wrapper.append(copyButton);const closeButton = document.createElement("button");closeButton.type = "button";closeButton.textContent = "é–‰ã˜ã‚‹";closeButton.addEventListener("click", () => {bk.remove();});closeButton.style = "grid-column-start: 1; grid-row-start: 2;";wrapper.append(closeButton);const jumpButton = document.createElement("button");jumpButton.type = "button";jumpButton.style = "grid-column-start: 2; grid-row-start: 2;";wrapper.append(jumpButton);const anc = document.createElement("a");anc.innerText = "ã‚³ãƒ”ãƒšã—ã«ã„ã\nï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã¸é£›ã³ã¾ã™ï¼‰";anc.href = "https://docs.google.com/spreadsheets/d/1StgWmxSqnfpxNKJA7CY2vF62wXmCDczp-PMwVRpNdMI/edit?gid=569713866#gid=569713866";anc.setAttribute("target", '_blank');if(isCopyDataWhenJumpToSheet){anc.addEventListener("click", () => {textarea.select();document.execCommand("copy");window.getSelection?.().removeAllRanges();textarea.blur();});}anc.style = "display: block;";jumpButton.append(anc);}/*ã€svgãƒ‡ãƒ¼ã‚¿å–å¾—ç”¨ã€‘const mouseOverEvent = new MouseEvent("mouseover", {view: window,bubbles: true,cancelable: true});document.querySelectorAll("#stat_table span.help")[8].dispatchEvent(mouseOverEvent);*/})();
